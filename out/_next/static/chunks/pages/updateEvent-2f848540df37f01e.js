(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{5786:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/updateEvent",function(){return r(1723)}])},1723:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var s=r(5893),n=r(9008),i=r.n(n),a=r(7160),c=r.n(a),_=r(7856),o=r(7294),l=r(1163),d=r(5084),u=r(4437),g=r(818),h=r(7056),x=r(2853),m=r(9089),j=r.n(m),p=r(2152),f=r(9243);let v=e=>{let{openSnackBar:t,setOpenSnackBar:r,messageText:n,alertType:i}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(f.Z,{open:t,autoHideDuration:8e3,onClose:()=>r(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,s.jsx)(x.Z,{onClick:()=>r(!1),severity:i,sx:{width:"100%"},variant:"filled",children:n})})})};var y=r(1869),b=r(1890),S=r(6779),Z=r(5398),C=r(7745);let N=e=>{let{show:t,handleClose:r,setOtp:n,updateRegistration:i}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(b.Z,{open:t,onClose:r,fullWidth:!0,maxWidth:"sm",children:(0,s.jsxs)("form",{onSubmit:i,children:[(0,s.jsx)(C.Z,{children:"Enter OTP"}),(0,s.jsx)(Z.Z,{children:(0,s.jsx)(u.Z,{margin:"dense",label:"OTP",type:"text",fullWidth:!0,variant:"standard",placeholder:"OTP",onChange:e=>n(e.target.value),required:!0})}),(0,s.jsxs)(S.Z,{children:[(0,s.jsx)(d.Z,{onClick:r,variant:"outlined",style:{borderColor:"#a72f50",color:"#a72f50"},children:"Cancel"}),(0,s.jsx)(d.Z,{variant:"contained",style:{backgroundColor:"#a72f50"},type:"submit",children:"Submit"})]})]})})})},T=()=>{let e=(0,l.useRouter)(),t=e.query,{getParticipants:r,initUpdateRegistration:n,updateRegistration:i}=(0,p.Z)(),[a,c]=(0,o.useState)({}),[_,m]=(0,o.useState)({}),[f,b]=(0,o.useState)({}),[S,Z]=(0,o.useState)({}),[C,T]=(0,o.useState)(!1),[E,z]=(0,o.useState)(!1),[B,P]=(0,o.useState)(!1),[O,k]=(0,o.useState)(""),[I,A]=(0,o.useState)(""),[D,R]=(0,o.useState)("success"),[w,M]=(0,o.useState)({categories:"",runType:"",eventName:""});(0,o.useEffect)(()=>{t.eid&&r(m,t)},[t]),(0,o.useEffect)(()=>{if(t.eid){let e=JSON.parse(localStorage.getItem("selectedEvent"))||"";M({categories:e.category,runType:e.event_type,eventName:e.event_name})}},[t]);let L=_&&_.data&&_.data.length>0&&_.data||[];(0,o.useEffect)(()=>{if(L.length>0){let e=L.filter(e=>!0===e.is_primary);c(e)}},[L]);let V=()=>T(!1),X=()=>{z(!1)},U=()=>{z(!1),T(!0)},F=(e,t,r)=>{L[r][t]=e,_.data=L,m(_)},G=(e,t)=>{a[t]=e,c(a),L[0][t]=e,_.data=L,m(_)},H=()=>{let e={};e.eventName="INIT_UPDATE_REGISTRATION",e.org_id="runfit-pro",e.order_id=t.oid,e.email_address=t.email,e.event_id=t.eid,z(!0),n(b,e,U)},K=(t,r)=>{"Error"===r.errorType?(A("ERROR: Entered OTP is wrong."),R("error"),P(!0)):"OK"===r.success&&(A("Updated participants successfully."),R("success"),P(!0),T(!1),setTimeout(()=>{e.push("/")},2e3))},Y=async e=>{e.preventDefault();try{let t={};t.eventName="UPDATE_REGISTRATION",t.otp=O,t.otp_token=f.data&&f.data.otp_token,t.participants=_.data,i(Z,t,K)}catch(r){A(r),R("error"),P(!0)}};return(0,s.jsxs)(s.Fragment,{children:[!0!==_.pending&&L&&0===L.length?(0,s.jsx)("div",{className:j().orders,children:(0,s.jsx)("div",{className:j().ordersDiv,children:(0,s.jsx)("div",{children:(0,s.jsx)(x.Z,{severity:"error",color:"error",variant:"outlined",children:"Unable to fetch participants details"})})})}):(0,s.jsx)("div",{className:j().orders,children:(0,s.jsx)("div",{className:j().ordersDiv,children:(0,s.jsxs)("div",{className:j().right,style:{width:"100%"},children:[(0,s.jsx)("div",{className:j().orderName,children:(0,s.jsxs)("h2",{children:["Hi,","  ",a&&a.length>0&&a[0].name]})}),(0,s.jsxs)("table",{id:"runTable",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"EVENT NAME"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"RUN TYPE"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"PARTICIPANTS"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"ORDER ID"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"AMOUNT (â‚¹)"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{fontSize:"0.8rem"},children:w.eventName}),(0,s.jsx)("td",{style:{fontSize:"0.8rem"},children:w.runType}),(0,s.jsx)("td",{style:{fontSize:"0.8rem"},children:_&&_.data&&_.data.length}),(0,s.jsx)("td",{style:{fontSize:"0.8rem"},children:t.oid}),(0,s.jsx)("td",{style:{fontSize:"0.8rem"},children:_&&_.data&&_.data.length>0&&_.data[0].amount})]})})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("h4",{children:"Participants Details"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"NAME"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"BLOOD GROUP"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"GENDER"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"RUN TYPE & DISTANCE "}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"T-SHIRT SIZE"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"MOBILE"})]})}),(0,s.jsxs)("tbody",{children:[L.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(u.Z,{name:"name",type:"text",variant:"standard",size:"small",defaultValue:e.name,onChange:e=>F(e.target.value,"name",t)})}),(0,s.jsx)("td",{children:(0,s.jsxs)(g.Z,{name:"bloodGroup",size:"small",defaultValue:e.blood_group,onChange:e=>F(e.target.value,"blood_group",t),variant:"standard",children:[(0,s.jsx)(h.Z,{value:"O+",children:"O+"}),(0,s.jsx)(h.Z,{value:"O-",children:"O-"}),(0,s.jsx)(h.Z,{value:"A+",children:"A+"}),(0,s.jsx)(h.Z,{value:"A-",children:"A-"}),(0,s.jsx)(h.Z,{value:"B+",children:"B+"}),(0,s.jsx)(h.Z,{value:"B-",children:"B-"}),(0,s.jsx)(h.Z,{value:"AB+",children:"AB+"}),(0,s.jsx)(h.Z,{value:"AB-",children:"AB-"})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)(g.Z,{name:"gender",size:"small",defaultValue:e.sex,onChange:e=>F(e.target.value,"sex",t),variant:"standard",children:[(0,s.jsx)(h.Z,{value:"M",children:"Male"}),(0,s.jsx)(h.Z,{value:"F",children:"Female"}),(0,s.jsx)(h.Z,{value:"O",children:"Other"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)(g.Z,{name:"category",size:"small",defaultValue:e.selected_category,onChange:e=>F(e.target.value,"selected_category",t),variant:"standard",children:w.categories.map((e,t)=>(0,s.jsx)(h.Z,{value:e,children:e}))})}),(0,s.jsx)("td",{children:(0,s.jsxs)(g.Z,{name:"tshirtSize",size:"small",defaultValue:e.tshirt_size,onChange:e=>F(e.target.value,"tshirt_size",t),variant:"standard",children:[(0,s.jsx)(h.Z,{value:"XS",children:"XS"}),(0,s.jsx)(h.Z,{value:"S",children:"S"}),(0,s.jsx)(h.Z,{value:"M",children:"M"}),(0,s.jsx)(h.Z,{value:"L",children:"L"}),(0,s.jsx)(h.Z,{value:"XL",children:"XL"}),(0,s.jsx)(h.Z,{value:"XXL",children:"XXL"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)(u.Z,{name:"name",type:"text",variant:"standard",size:"small",defaultValue:e.phone,onChange:e=>F(e.target.value,"phone",t)})})]},t)),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:"2",children:"\xa0"}),(0,s.jsx)("td",{colSpan:"2",children:"\xa0"})]}),(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:"4",style:{padding:"0 0 9px 0"},children:[(0,s.jsx)("h4",{children:"Emergency Contact Details"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"NAME"}),(0,s.jsx)("th",{style:{fontSize:"0.8rem"},children:"CONTACT NUMBER"})]})}),(0,s.jsx)("tbody",{children:a&&a.length>0&&a.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(u.Z,{name:"emerName",type:"text",variant:"standard",size:"small",defaultValue:e.emergency_contact_name,onChange:e=>G(e.target.value,"emergency_contact_name")})}),(0,s.jsx)("td",{children:(0,s.jsx)(u.Z,{name:"emerNumber",type:"text",variant:"standard",size:"small",defaultValue:e.emergency_contact_number,onChange:e=>G(e.target.value,"emergency_contact_number")})})]},t))})]})]})})]})]}),(0,s.jsxs)("div",{className:j().trans,children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{children:"Registered On: "}),(0,s.jsx)("a",{children:a&&a.length>0&&a[0].registered_on})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{children:"\xa0 "}),(0,s.jsx)("a",{children:"\xa0"})]})]}),(0,s.jsx)(d.Z,{style:{float:"right",marginLeft:10,borderColor:"#a72f50",color:"#a72f50"},variant:"outlined",onClick:()=>e.push("/"),children:"Cancel"}),(0,s.jsx)(d.Z,{style:{float:"right",backgroundColor:"#a72f50"},variant:"contained",onClick:H,children:"Update"})]})})}),(0,s.jsx)(y.Z,{open:E,handleCloseLoader:X}),(0,s.jsx)(N,{show:C,handleClose:V,setOtp:k,updateRegistration:Y}),(0,s.jsx)(v,{openSnackBar:B,setOpenSnackBar:P,messageText:I,alertType:D})]})};function E(){return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"Seva Bharathi"}),(0,s.jsx)("meta",{name:"description",content:"Kinding Hope & Happiness Around"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(_.Z,{}),(0,s.jsx)(T,{})]})]})}function z(){return(0,s.jsx)(E,{})}},1869:function(e,t,r){"use strict";var s=r(5893);r(7294);var n=r(8735),i=r(754);let a=e=>{let{open:t,handleCloseLoader:r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.Z,{sx:{color:"#a72f50",zIndex:e=>e.zIndex.drawer+1},open:t,onClick:r,children:(0,s.jsx)(i.Z,{color:"inherit"})})})};t.Z=a},9089:function(e){e.exports={header:"registration_succ_header__VRv1f",logo:"registration_succ_logo__JzYBO",mobile:"registration_succ_mobile__15zki",active:"registration_succ_active__jmbN3",submenu:"registration_succ_submenu__damIM",mobile_menu:"registration_succ_mobile_menu__e3M4B",banner:"registration_succ_banner__9uK7_",bannerTxt:"registration_succ_bannerTxt__mlZrm",emailContact:"registration_succ_emailContact__sksqP",formLabel:"registration_succ_formLabel__N0tzU",numberIncrease:"registration_succ_numberIncrease__P1ct9",registerFor:"registration_succ_registerFor__jlklP",contentBlock:"registration_succ_contentBlock__jK5rS",leftBlock:"registration_succ_leftBlock__KVPIv",rightBlock:"registration_succ_rightBlock__1PETo",count:"registration_succ_count__LpX8N",imageCircle:"registration_succ_imageCircle__qdaBt",imageCount:"registration_succ_imageCount__aKC3d",eventGallery:"registration_succ_eventGallery__TOeh0",astraBlock:"registration_succ_astraBlock__X9rst",right:"registration_succ_right__JPXXY",joinMission:"registration_succ_joinMission__w1ETZ",left:"registration_succ_left__MUCEO",sponsors:"registration_succ_sponsors___fHiR",sponserList:"registration_succ_sponserList__c6BeF",sponserPatners:"registration_succ_sponserPatners__duWsL",leftPatner:"registration_succ_leftPatner__6rkwi",rightPatner:"registration_succ_rightPatner__QjFMR",powerdBy:"registration_succ_powerdBy__wS9Nu",footer:"registration_succ_footer__gsRbo",stadiumRun:"registration_succ_stadiumRun__xB3x_",addParticipant:"registration_succ_addParticipant__ZoQUF","close-btn":"registration_succ_close-btn__cfqLb",gender:"registration_succ_gender__Qx_h6",run:"registration_succ_run__dD8dG",apply:"registration_succ_apply__LQoY7",coupon:"registration_succ_coupon__2AQow",couponDiscount:"registration_succ_couponDiscount__myhJw",greyButton:"registration_succ_greyButton__0iM4z",redButton:"registration_succ_redButton__hwDHA",breadcrumb:"registration_succ_breadcrumb__E3NJh",modalPopup:"registration_succ_modalPopup__eBI26",pay:"registration_succ_pay__0pFkv",close:"registration_succ_close__A9J6z",pay_amount:"registration_succ_pay_amount__DmMrq",leftImage:"registration_succ_leftImage__IHKvQ",pay_amount_content:"registration_succ_pay_amount_content__V6SmV",lang:"registration_succ_lang__tslvD",registration:"registration_succ_registration__7PIvh",reg_help:"registration_succ_reg_help__V02MK",no:"registration_succ_no__4v0E9",email:"registration_succ_email__uayYM",registration_message:"registration_succ_registration_message__zf6IV",info:"registration_succ_info__i8ag_",info_image:"registration_succ_info_image__8l8j0",girl_image:"registration_succ_girl_image__idTfg",social_icons:"registration_succ_social_icons__haYa3",order:"registration_succ_order__3AdVf",run_success:"registration_succ_run_success__pvfM7",successInfo:"registration_succ_successInfo__e4E9M",succ_count:"registration_succ_succ_count__7abGf",participants_run:"registration_succ_participants_run__8Kgvo",name:"registration_succ_name__rJUXo",count_mt:"registration_succ_count_mt__vlR1y",loginDiv:"registration_succ_loginDiv__J_Qao",loginHeader:"registration_succ_loginHeader__Z8CMr",loginTxt:"registration_succ_loginTxt__DZjeJ",orders:"registration_succ_orders__ZCufQ",ordersDiv:"registration_succ_ordersDiv___MSkw",search:"registration_succ_search__uArDp",tabs:"registration_succ_tabs__0jh_x",tabContent:"registration_succ_tabContent__tiKaT",green:"registration_succ_green__RZpjP",yellow:"registration_succ_yellow__axwze",red:"registration_succ_red__yf9uA",download:"registration_succ_download__aD6nZ",otpVerify:"registration_succ_otpVerify__bPIGA",runTable:"registration_succ_runTable__dcOLF",trans:"registration_succ_trans__t5Kpq",orderName:"registration_succ_orderName__OexWE",profile:"registration_succ_profile__2PRyH","btn-group":"registration_succ_btn-group__Y2Zry","btn-check":"registration_succ_btn-check__YMl_Y",btn:"registration_succ_btn__uNg1D",show:"registration_succ_show__x5nsG","payment-failed":"registration_succ_payment-failed__a0TZt",leftContent:"registration_succ_leftContent__LbogY",rightContent:"registration_succ_rightContent__snS4Z",help_center:"registration_succ_help_center__3mhoc",last:"registration_succ_last__SCv7E",mobile_menu_response:"registration_succ_mobile_menu_response__qe8fD"}},7160:function(){}},function(e){e.O(0,[815,513,856,131,774,888,179],function(){return e(e.s=5786)}),_N_E=e.O()}]);